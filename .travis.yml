# Travis YAML based on idea at
# https://therenegadecoder.com/code/how-to-build-latex-with-travis-ci-and-minted/

language: generic
sudo: required
before_install:
#
install:
  - source ./texlive/texlive_install.sh
cache:
  directories:
    - /tmp/texlive
    - $HOME/.texlive
before_script:
  - Export TRAVIS_BUILD_DIR
  # Change working directory so including files will work
  - cd $TRAVIS_BUILD_DIR/samples/article/
script:
  - texliveonfly --compiler=pdflatex ./article_release.tex
  - texliveonfly --compiler=bibtex ./article_release
  - texliveonfly --compiler=pdflatex ./article_release.tex
  - texliveonfly --compiler=pdflatex ./article_release.tex
notifications:
  email: false
